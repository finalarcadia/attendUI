<dom-module id="get-professor-data">
  <template>
    <iron-ajax
		id = "professorPopulateAjax"
		method="GET"
		handle-as="json"
		last-response="{{classList}}"
		url="http://127.0.0.1:8000/myapp/classesfromuser/{{pk}}/">
	</iron-ajax>
    <template is="dom-repeat" items="{{classList.results}}">
        <professor-class element-color="var(--paper-orange-500)" class-name$="{{item.classId}}" class-pk$="{{item.classPK}}" location-req$="{{item.locationFlag}}" code-req$="{{item.codeFlag}}"></professor-class>
    </template>
  </template>

  <script>
    Polymer({

    is: 'get-professor-data',
     
    properties: {
		
		pk: {
			type: String
		},
		
		classList: {
			type: Object,
			value: function() { return {}; }	
		}

	   },
       
    ready: function() {
		this.pk = document.querySelector('#global').userPK;
		this.$.professorPopulateAjax.generateRequest();
	},
     
     getInfo: function(){
         console.log("the response is", this.classList);
     }

   });
  </script>
</dom-module>